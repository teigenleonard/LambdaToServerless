service: HelloWorld-charter

provider:
  name: aws
  runtime: nodejs6.10
  stage: test
  region: us-east-2

functions:
#this triggers handler.js 'module.exports.hello'
#<cors: true> not needed if headers included in ajax call
  hello:
    handler: handler.hello
    events:
      - http:
          path: users/create
          method: get

  customMessage:
    handler: customMessage.handler
    events:
      - cognitoUserPool:
          pool: demo
          trigger: CustomMessage

  preSignUp:
    handler: preSignUp.handler
    events:
      - http:
          path: authentication
          method: post
      - cognitoUserPool:
          pool: demo
          trigger: preSignUp


##triggers index.js 'module.exports.handler'
#Using handler.js because shortcut callback funct causes errors with CORS
#  app:
#    handler: index.handler
#    events:
#      - http:
#          path: any /
#          method: any
#          cors: true
#      - http: 'ANY {proxy+}'

